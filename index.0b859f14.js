function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var t,n,r,a=document.querySelector("tbody"),o=((function(t){if(Array.isArray(t))return e(t)})(n=a.children)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(t,n){if(t){if("string"==typeof t)return e(t,void 0);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e(t,void 0)}}(n)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map(function(e){var t=e.querySelectorAll("td");return{name:t[0].textContent,position:t[1].textContent,office:t[2].textContent,age:+t[3].textContent,salary:+t[4].textContent.replace(/[$,]/g,"")}}),c=document.querySelector("thead"),i={name:"name",position:"position",office:"office",age:"age",salary:"salary"},l={column:"",direction:"asc"};function s(){a.innerHTML="",o.forEach(function(e){var t=document.createElement("tr");t.innerHTML="<td>".concat(e.name,"</td><td>").concat(e.position,"</td><td>").concat(e.office,"</td><td>").concat(e.age,"</td><td>$").concat(e.salary.toLocaleString(),"</td>"),a.appendChild(t)})}c.addEventListener("click",function(e){var t=i[e.target.textContent.trim().toLowerCase()];"TH"===e.target.tagName&&(l.column===t?l.direction="asc"===l.direction?"desc":"asc":(l.column=t,l.direction="asc"),["name","position","office"].includes(t)?o.sort(function(e,n){var r=e[t].localeCompare(n[t]);return"asc"===l.direction?r:-r}):["age","salary"].includes(t)&&o.sort(function(e,n){var r=e[t]-n[t];return"asc"===l.direction?r:-r}),s())}),a.addEventListener("click",function(e){var t=e.target.closest("tr");t&&a.contains(t)&&(document.querySelectorAll("tbody tr").forEach(function(e){return e.classList.remove("active")}),t.classList.add("active"))});var d=["Tokyo","Singapore","London","New York","Edinburgh","San Francisco"];(r=document.createElement("form")).classList.add("new-employee-form"),function(e){for(var t=Object.keys(i),n=0;n<t.length;n++)"office"!==t[n]&&("age"===t[n]||"salary"===t[n]?e.innerHTML+="<label>".concat(t[n][0].toUpperCase()+t[n].slice(1),': <input name="').concat(t[n],'" type="number"></label>'):e.innerHTML+="<label>".concat(t[n][0].toUpperCase()+t[n].slice(1),': <input name="').concat(t[n],'" type="text"></label>'))}(r),function(e){var t=document.createElement("select");t.setAttribute("name","office");var n=!0,r=!1,a=void 0;try{for(var o,c=d[Symbol.iterator]();!(n=(o=c.next()).done);n=!0){var i=o.value,l=document.createElement("option");l.setAttribute("value",i),l.textContent=i,t.appendChild(l)}}catch(e){r=!0,a=e}finally{try{n||null==c.return||c.return()}finally{if(r)throw a}}var s=document.createElement("label");s.textContent="Office: ",s.appendChild(t);var u=e.children[2];u?e.insertBefore(s,u):e.appendChild(s)}(r),(t=document.createElement("button")).textContent="Save to table",t.setAttribute("type","submit"),t.setAttribute("data-qa","save-button"),r.appendChild(t),function(e){Array.from(e.elements).forEach(function(e){e.name&&(e.setAttribute("data-qa",e.name),e.setAttribute("required",""))})}(r),document.body.appendChild(r);var u=document.querySelector("button"),m=document.querySelector("form"),f={warning:{title:"Warning!",description:"There is some empty fields, please enter all info",type:"warning"},error:{title:"Error!",description:"Please check, if your name is not less than 4 letters and your age is not less than 18 or more than 90",type:"error"},success:{title:"Good job!",description:"You have added info about employeer",type:"success"}};function p(e,t,n){var r=document.createElement("div");r.setAttribute("data-qa","notification"),r.classList.add("notification");var a=document.createElement("h2");a.classList.add("title"),a.textContent=e;var o=document.createElement("p");o.textContent=t,r.append(a),r.append(o),"success"===n?r.classList.add("success"):"error"===n?r.classList.add("error"):r.classList.add("warning"),document.body.append(r),r.style.transition="opacity 0.5s ease",r.style.opacity="1",setTimeout(function(){r.style.opacity="0",setTimeout(function(){r.remove()},500)},2e3)}u.addEventListener("click",function(e){e.preventDefault();var t,n=(t={},Array.from(m.elements).forEach(function(e){e.name&&(t[e.name]=e.value)}),t);if(!Object.values(n).every(function(e){return""!==e.trim()})){p(f.warning.title,f.warning.description,f.warning.type);return}if(n.name.length<4||n.age<18||n.age>90){p(f.error.title,f.error.description,f.error.type);return}var r=document.createElement("tr");r.innerHTML="<td>".concat(n.name,"</td><td>").concat(n.position,"</td><td>").concat(n.office,"</td><td>").concat(n.age,"</td><td>$").concat(n.salary.toLocaleString(),"</td>"),a.appendChild(r),m.reset(),o.push(n),s(),p(f.success.title,f.success.description,f.success.type)}),a.addEventListener("dblclick",function(e){"TD"===e.target.tagName&&function(e){var t,n=e.cellIndex,r=e.textContent.trim();function a(){var n=t.value.trim()||r;e.textContent=n}2===n?(t=document.createElement("select"),d.forEach(function(e){var n=document.createElement("option");n.value=e,n.textContent=e,e===r&&(n.selected=!0),t.appendChild(n)})):((t=document.createElement("input")).type=n>2?"number":"text",t.placeholder=r,t.value=r),e.textContent="",e.appendChild(t),t.focus(),t.addEventListener("blur",a),t.addEventListener("keydown",function(e){"Enter"===e.key&&a()})}(e.target)}),s();
//# sourceMappingURL=index.0b859f14.js.map
